{"version":3,"sources":["../../src/pages/messages/messages.module.ts","../../src/components/components.module.ts","../../src/lib/pipes/responsiveDate.ts","../../src/lib/pipes/maxValue.ts","../../src/lib/pipes/filenameLimit.ts","../../src/components/userImage.ts","../../src/components/navigator/navigator.ts","../../src/components/load.ts","../../src/assets/images/icons ^/.//.*/.svg$","../../src/assets/images/icons/add.svg","../../src/assets/images/icons/added.svg","../../src/assets/images/icons/deny.svg","../../src/assets/images/icons/write.svg","../../src/components/loadingProgress.ts","../../src/components/hexagon.ts","../../src/components/navigator/hexagon.ts","../../src/components/navigator/icon.ts","../../src/components/topic/topicComponentsModule.ts","../../src/lib/pipes/seperatorDate.ts","../../src/components/topic/burstDifference.ts","../../src/components/topic/message.ts","../../src/components/topic/voicemailPlayer.ts","../../src/lib/asset/sizeFormatter.ts","../../src/components/syntaxify.ts","../../src/components/gallery/gallery.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { MessagesPage } from './messages'\n\nimport { ComponentsModule } from \"../../components/components.module\";\nimport { TopicComponentsModule } from \"../../components/topic/topicComponentsModule\";\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n\tdeclarations: [\n\t\tMessagesPage\n\t],\n\timports: [\n\t\tIonicPageModule.forChild(MessagesPage),\n\t\tComponentsModule,\n\t\tTopicComponentsModule,\n\t\tTranslateModule.forChild(),\n\t],\n\tentryComponents: [\n\t\tMessagesPage\n\t]\n})\nexport class MessagesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/messages/messages.module.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from 'ionic-angular';\n\nimport { ResponsiveDatePipe } from \"../lib/pipes/responsiveDate\";\nimport { MaxValuePipe } from \"../lib/pipes/maxValue\";\nimport { FilenameLimitPipe } from \"../lib/pipes/filenameLimit\";\n\nimport { UserImageComponent } from \"./userImage\";\nimport { Navigator } from \"./navigator/navigator\";\nimport { LoadComponent } from \"./load\"\nimport { LoadingProgress } from \"./loadingProgress\"\n\nimport { HexagonComponent } from \"./hexagon\";\nimport { NavigatorHexagon } from \"./navigator/hexagon\";\nimport { NavigatorIcon } from \"./navigator/icon\";\n\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n\tdeclarations: [\n\t\tResponsiveDatePipe,\n\t\tMaxValuePipe,\n\t\tFilenameLimitPipe,\n\t\tUserImageComponent,\n\t\tLoadComponent,\n\t\tLoadingProgress,\n\t\tHexagonComponent,\n\t\tNavigator,\n\t\tNavigatorHexagon,\n\t\tNavigatorIcon\n\t],\n\timports: [\n\t\tIonicModule,\n\t\tCommonModule,\n\t\tTranslateModule.forChild()\n\t],\n\texports: [\n\t\tResponsiveDatePipe,\n\t\tMaxValuePipe,\n\t\tFilenameLimitPipe,\n\t\tUserImageComponent,\n\t\tLoadComponent,\n\t\tLoadingProgress,\n\t\tHexagonComponent,\n\t\tCommonModule,\n\t\tNavigator,\n\t\tNavigatorHexagon,\n\t\tNavigatorIcon,\n\t]\n})\nexport class ComponentsModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Pipe } from \"@angular/core\";\nimport { DatePipe } from \"@angular/common\"; // tslint:disable-line:no-unused-variable\n\n@Pipe({\n\tname: \"responsiveDate\"\n})\nexport class ResponsiveDatePipe {\n\n\tconstructor(private datePipe: DatePipe) {}\n\n\ttransform(value: any): string {\n\t\tif(!value) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tif(typeof value === \"number\") {\n\t\t\tvalue = new Date(value);\n\t\t}\n\n\t\tlet format: string;\n\n\t\tlet now: Date = new Date();\n\t\tnow.setHours(0, 0, 0, 0);\n\n\t\tlet date_norm: Date = new Date(value);\n\t\tdate_norm.setHours(0, 0, 0, 0);\n\n\t\tconst diff_norm: number = (now.getTime() - date_norm.getTime()) / 1000;\n\n\t\tconst YESTERDAY = 24 * 60 * 60\n\n\t\tif(diff_norm === 0) { // same day\n\t\t\tformat = \"HH:mm\";\n\t\t} else if(diff_norm == YESTERDAY) {\n\t\t\treturn \"Yesterday\";\n\t\t} else if(diff_norm <= YESTERDAY * 6) {\n\t\t\tformat = \"EEEE\";\n\t\t} else {\n\t\t\tformat = \"dd.MM.y\"\n\t\t}\n\n\t\treturn this.datePipe.transform(value, format);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/pipes/responsiveDate.ts","import { Pipe, PipeTransform } from \"@angular/core\"; // tslint:disable-line:no-unused-variable\n\n@Pipe({name: \"maxValue\"})\nexport class MaxValuePipe implements PipeTransform {\n\ttransform(value: number, max: number): string {\n\t\tif(value > max) {\n\t\t\treturn max + \"+\";\n\t\t}\n\t\treturn value.toString();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/pipes/maxValue.ts","import { Pipe, PipeTransform } from \"@angular/core\"; // tslint:disable-line:no-unused-variable\n\n@Pipe({name: \"filenameLimit\"})\nexport class FilenameLimitPipe implements PipeTransform {\n\ttransform(str: string, max: number): string {\n\t\tif(str.length > max) {\n\t\t\tlet type = str.substring(str.lastIndexOf(\".\") + 1, str.length);\n\n\t\t\treturn `${str.substring(0, max - type.length - 3)}...${type}`;\n\t\t}\n\n\t\treturn str;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/pipes/filenameLimit.ts","import { Component, Input } from \"@angular/core\";\n\nimport settings from \"../lib/services/settings.service\"\n\nconst DEFAULT_IMAGE = \"assets/img/user.png\"\n\n@Component({\n\tselector: \"user-image\",\n\ttemplateUrl: \"userImage.svg\"\n})\nexport class UserImageComponent {\n\tprivate _image: string = DEFAULT_IMAGE\n\n\t@Input() hideBlocked = true\n\n\t@Input()\n\tset image(image: string) {\n\t\tif (image) {\n\t\t\tthis._image = image\n\t\t\treturn\n\t\t}\n\n\t\tthis._image = DEFAULT_IMAGE\n\t}\n\n\tget image(): string {\n\t\tif (this.hideBlocked && settings.isBlocked(parseInt(this.id, 10))) {\n\t\t\treturn \"assets/img/blocked.png\"\n\t\t}\n\n\t\treturn this._image;\n\t}\n\n\t@Input() id: string;\n\n\trandomId: string = Math.random().toString()\n\n\tgetId() {\n\t\treturn `userimage-${this.id}-${this.randomId}`\n\t}\n\n\tgetUrl() {\n\t\treturn `url(#${this.getId()})`\n\t}\n\n\tconstructor() {};\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/userImage.ts","import { Component, Input, Output, EventEmitter } from \"@angular/core\"\nimport { NavController } from \"ionic-angular\"\n\nimport sessionService from \"../../lib/services/session.service\"\n\nconst EASTER_EGG_THRESHOLD = 10 * 1000\n\ninterface NodeWithBounds {\n\tnode: Element,\n\tbounds: ClientRect\n}\n\n@Component({\n\tselector: \"navigator\",\n\ttemplateUrl: \"navigator.html\"\n})\nexport class Navigator {\n\n\t@Input() icon: string = \"plus\"\n\n\t@Output() invoke = new EventEmitter()\n\n\tconstructor(private navCtrl: NavController) {}\n\n\topen = false\n\n\tcloseOnTouchEnd = false\n\n\tprofile: NodeWithBounds = null\n\tsearch: NodeWithBounds = null\n\tcontacts: NodeWithBounds = null\n\tsettings: NodeWithBounds = null\n\n\tonTap = () => {\n\t\tclearTimeout(this.easterEgg)\n\t\tif (this.open) {\n\t\t\tthis.open = false\n\t\t} else {\n\t\t\tthis.invoke.emit()\n\t\t}\n\t}\n\n\tonPress = () => {\n\t\tif (this.open) {\n\t\t\tthis.closeOnTouchEnd = true\n\t\t} else {\n\t\t\tthis.open = true;\n\t\t}\n\t}\n\n\teasterEgg = null\n\tenableEasterEgg = () => {\n\t\tconst navigators = document.querySelectorAll('.navigator');\n\t\tfor (let i = 0 ; i < navigators.length; i++) {\n\t\t\tnavigators.item(i).classList.add('easteregg')\n\t\t}\n\t}\n\n\tisOnSubmenu = (bounds: ClientRect, event: TouchEvent) => {\n\t\tconst { left, top, width: diameter } = bounds\n\t\tconst centerX = left + diameter / 2\n\t\tconst centerY = top + diameter / 2\n\t\tfor (let i = 0; i < event.changedTouches.length; i++) {\n\t\t\tconst { clientX, clientY } = event.changedTouches.item(i)\n\t\t\tconst distance = Math.sqrt(Math.pow(centerX - clientX, 2) + Math.pow(centerY - clientY, 2))\n\t\t\tif (distance < ( diameter / 2 ) * 1.5) return true\n\t\t}\n\t\treturn false\n\t}\n\n\tgetNodeWithBounds = (ancestor, selector) => {\n\t\tconst node = ancestor.querySelector(selector)\n\t\tconst bounds = node.getBoundingClientRect()\n\t\treturn { node, bounds }\n\t}\n\n\tonTouchStart = (e) => {\n\t\tlet menu = e.target\n\t\twhile (menu && !menu.classList.contains('navigator')) {\n\t\t\tmenu = menu.parentElement\n\t\t}\n\t\tif (menu) {\n\t\t\tthis.profile = this.getNodeWithBounds(menu, '.sub-menu.profile')\n\t\t\tthis.search = this.getNodeWithBounds(menu, '.sub-menu.search')\n\t\t\tthis.contacts = this.getNodeWithBounds(menu, '.sub-menu.contacts')\n\t\t\tthis.settings = this.getNodeWithBounds(menu, '.sub-menu.settings')\n\t\t}\n\t\tthis.easterEgg = setTimeout(this.enableEasterEgg, EASTER_EGG_THRESHOLD)\n\t}\n\n\tonTouchEnd = (e: TouchEvent) => {\n\t\tconst nodesWithBounds = [ this.search, this.profile, this.contacts, this.settings ]\n\t\tfor (let { node } of nodesWithBounds ) {\n\t\t\tnode.classList.remove('active')\n\t\t}\n\t\tif (this.open) {\n\t\t\tif (this.isOnSubmenu(this.profile.bounds, e)) this.invokeProfile()\n\t\t\tif (this.isOnSubmenu(this.search.bounds, e)) this.invokeSearch()\n\t\t\tif (this.isOnSubmenu(this.contacts.bounds, e)) this.invokeContacts()\n\t\t\tif (this.isOnSubmenu(this.settings.bounds, e)) this.invokeSettings()\n\t\t}\n\t\tif (this.closeOnTouchEnd) {\n\t\t\tthis.open = false\n\t\t\tthis.closeOnTouchEnd = false\n\t\t}\n\t\tclearTimeout(this.easterEgg)\n\t}\n\n\tonTouchMove = (e: TouchEvent) => {\n\t\tif (this.open) {\n\t\t\tfor (let { node, bounds } of [this.profile, this.contacts, this.settings, this.search]) {\n\t\t\t\tif (this.isOnSubmenu(bounds, e)) {\n\t\t\t\t\tnode.classList.add('active')\n\t\t\t\t} else {\n\t\t\t\t\tnode.classList.remove('active')\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\te.preventDefault()\n\t}\n\n\tclose() {\n\t\tclearTimeout(this.easterEgg)\n\t\tthis.open = false\n\t}\n\n\tinvokeProfile() {\n\t\tthis.close()\n\t\tconst userId = sessionService.userid\n\t\tthis.navCtrl.push(\"Profile\", { userId })\n\t}\n\n\tinvokeContacts() {\n\t\tthis.close()\n\t\tthis.navCtrl.push(\"Contacts\")\n\t}\n\n\tinvokeSearch() {\n\t\tthis.close()\n\t\tthis.navCtrl.push(\"Contacts\", { search: true })\n\t}\n\n\tinvokeSettings() {\n\t\tthis.close()\n\t\tthis.navCtrl.push(\"Settings\")\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/navigator/navigator.ts","import { Component, Input } from \"@angular/core\";\nimport { DomSanitizer } from \"@angular/platform-browser\"; // tslint:disable-line:no-unused-variable\n\n@Component({\n\tselector: \"load\",\n\ttemplate: `<div [innerHTML]=\"html\"></div>`\n})\nexport class LoadComponent {\n\tpublic html;\n\tconstructor(private sanitizer: DomSanitizer) {};\n\n\t@Input()\n\tset name(name: string) {\n\t\tconst icon = require(`../assets/images/icons/${name}.svg`)\n\n\t\tthis.html = this.sanitizer.bypassSecurityTrustHtml(icon)\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/load.ts","var map = {\n\t\"./add.svg\": 463,\n\t\"./added.svg\": 464,\n\t\"./deny.svg\": 465,\n\t\"./write.svg\": 466\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 462;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/icons ^\\.\\/.*\\.svg$\n// module id = 462\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"178\\\" height=\\\"206\\\" viewBox=\\\"0 0 89 103\\\">\\n  <metadata><?xpacket begin=\\\"﻿\\\" id=\\\"W5M0MpCehiHzreSzNTczkc9d\\\"?>\\n<x:xmpmeta xmlns:x=\\\"adobe:ns:meta/\\\" x:xmptk=\\\"Adobe XMP Core 5.6-c138 79.159824, 2016/09/14-01:09:01        \\\">\\n   <rdf:RDF xmlns:rdf=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\">\\n      <rdf:Description rdf:about=\\\"\\\"/>\\n   </rdf:RDF>\\n</x:xmpmeta>\\n<?xpacket end=\\\"w\\\"?></metadata>\\n  <path id=\\\"add\\\" class=\\\"fill-primary\\\" d=\\\"M480.5,880L435.985,854.25V802.759L480.5,777.013l44.515,25.746V854.25ZM496,832H484v12h-7V832H465v-7h12V813h7v12h12v7Z\\\" transform=\\\"translate(-436 -777)\\\"/>\\n</svg>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/icons/add.svg\n// module id = 463\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"178\\\" height=\\\"206\\\" viewBox=\\\"0 0 89 103\\\">\\n  <metadata><?xpacket begin=\\\"﻿\\\" id=\\\"W5M0MpCehiHzreSzNTczkc9d\\\"?>\\n<x:xmpmeta xmlns:x=\\\"adobe:ns:meta/\\\" x:xmptk=\\\"Adobe XMP Core 5.6-c138 79.159824, 2016/09/14-01:09:01        \\\">\\n   <rdf:RDF xmlns:rdf=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\">\\n      <rdf:Description rdf:about=\\\"\\\"/>\\n   </rdf:RDF>\\n</x:xmpmeta>\\n<?xpacket end=\\\"w\\\"?></metadata>\\n  <path id=\\\"added\\\" class=\\\"fill-primary\\\" d=\\\"M480.5,880L435.985,854.25V802.759L480.5,777.013l44.515,25.746V854.25Zm18.5-61.23-24.725,24.24-12.291-12.032,4.869-4.753,7.422,7.278,19.855-19.487Z\\\" transform=\\\"translate(-436 -777)\\\"/>\\n</svg>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/icons/added.svg\n// module id = 464\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"178\\\" height=\\\"206\\\" viewBox=\\\"0 0 89 103\\\">\\n  <metadata><?xpacket begin=\\\"﻿\\\" id=\\\"W5M0MpCehiHzreSzNTczkc9d\\\"?>\\n<x:xmpmeta xmlns:x=\\\"adobe:ns:meta/\\\" x:xmptk=\\\"Adobe XMP Core 5.6-c138 79.159824, 2016/09/14-01:09:01        \\\">\\n   <rdf:RDF xmlns:rdf=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\">\\n      <rdf:Description rdf:about=\\\"\\\"/>\\n   </rdf:RDF>\\n</x:xmpmeta>\\n<?xpacket end=\\\"w\\\"?></metadata>\\n  <path id=\\\"deny\\\" class=\\\"fill-grey\\\" d=\\\"M953.5,880L908.985,854.25V802.759L953.5,777.013l44.515,25.746V854.25Zm8.485-38.061L953.5,833.45l-8.485,8.485-4.95-4.95,8.485-8.485-8.485-8.485,4.95-4.95,8.485,8.485,8.485-8.485,4.95,4.95L958.45,828.5l8.485,8.485Z\\\" transform=\\\"translate(-909 -777)\\\"/>\\n</svg>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/icons/deny.svg\n// module id = 465\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"178\\\" height=\\\"206\\\" viewBox=\\\"0 0 89 103\\\">\\n  <metadata><?xpacket begin=\\\"﻿\\\" id=\\\"W5M0MpCehiHzreSzNTczkc9d\\\"?>\\n<x:xmpmeta xmlns:x=\\\"adobe:ns:meta/\\\" x:xmptk=\\\"Adobe XMP Core 5.6-c138 79.159824, 2016/09/14-01:09:01        \\\">\\n   <rdf:RDF xmlns:rdf=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\">\\n      <rdf:Description rdf:about=\\\"\\\"/>\\n   </rdf:RDF>\\n</x:xmpmeta>\\n<?xpacket end=\\\"w\\\"?></metadata>\\n  <path id=\\\"write_corner\\\" data-name=\\\"write corner\\\" class=\\\"fill-primaryDark\\\" d=\\\"M6.577,102l6.651-24.883L31.4,95.331Z\\\"/>\\n  <path id=\\\"write\\\" class=\\\"fill-primary\\\" d=\\\"M44.5,103L0,77.25V25.75L44.5,0,89,25.75v51.5ZM19,43.149V36.994H70V43.15H19ZM70,55.078H19V48.922H70v6.156ZM50,67.006H19V60.851H50v6.156Z\\\"/>\\n</svg>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/icons/write.svg\n// module id = 466\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11","import { Component, Input, ElementRef } from \"@angular/core\";\n\nconst INTERPOLATION_SCALING = 12\n\n@Component({\n\tselector: \"loading-progress\",\n\ttemplateUrl: \"loadingProgress.html\"\n})\nexport class LoadingProgress {\n\n\t@Input() className: string\n\t@Input() progress: any\n\t@Input() backgroundClass: string\n\t@Input() foregroundClass: string\n\n\tprivate _progressColor\n\tprivate _progressBackground\n\tprivate _background;\n\n\tprivate getBackgroundElement() {\n\t\tlet element = this.element.nativeElement.parentElement\n\t\twhile (element && !element.classList.contains(this.backgroundClass)) {\n\t\t\telement = element.parentElement\n\t\t}\n\t\treturn element\n\t}\n\n\tprivate getForegroundElement() {\n\t\tlet element = this.element.nativeElement.querySelector('.dummy')\n\t\treturn element.classList.contains(this.foregroundClass) ? element : null\n\t}\n\n\tprivate get progressColor() {\n\t\tif (!this._progressColor) {\n\t\t\tconst element = this.getForegroundElement()\n\t\t\tthis._progressColor = element? window.getComputedStyle(element)\n\t\t\t\t.getPropertyValue('color') : null\n\t\t}\n\t\treturn this._progressColor\n\t}\n\n\tprivate get progressBackground() {\n\t\tif (!this._progressBackground) {\n\t\t\tconst element = this.getForegroundElement()\n\t\t\tthis._progressBackground = element? window.getComputedStyle(element)\n\t\t\t\t.getPropertyValue('background-color') : null\n\t\t}\n\t\treturn this._progressBackground\n\t}\n\n\tget background() {\n\t\tif (!this._background !== undefined) {\n\t\t\tconst element = this.getBackgroundElement()\n\t\t\tif (!element) { this._background = 'inherit' }\n\t\t\tthis._background = window.getComputedStyle(element)\n\t\t\t\t.getPropertyValue('background-color')\n\t\t}\n\t\treturn this._background\n\t}\n\n\tprivate progressArc() {\n\t\tconst { progressBackground, progressColor } = this\n\t\tif (!progressBackground || !progressColor) { return \"\" }\n\t\tlet deg, result\n\t\tif (this.interpolatedProgress <= 0.5) {\n\t\t\tdeg = 90 + 180 * this.interpolatedProgress * 2\n\t\t\tresult = `linear-gradient(90deg, ${progressBackground} 50%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0)), linear-gradient(${deg}deg, ${progressColor} 50%, ${progressBackground} 50%, ${progressBackground})`\n\t\t} else {\n\t\t\tdeg = -90 + 180 * (2 * (this.interpolatedProgress-.5))\n\t\t\tresult = `linear-gradient(${deg}deg, ${progressColor} 50%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0)), linear-gradient(270deg, ${progressColor} 50%, ${progressBackground} 50%, ${progressBackground})`\n\t\t}\n\t\treturn result\n\t}\n\n\tprivate divToStyle\n\tprivate interpolatedProgress = 0\n\tprivate animationStep = (time) => {\n\n\t\tif (!this.divToStyle) {\n\t\t\twindow.requestAnimationFrame(this.animationStep)\n\t\t\tthis.divToStyle = this.element.nativeElement.querySelector('div')\n\n\t\t} else {\n\t\t\tconst progress = this.progress()\n\n\t\t\tif (progress < this.interpolatedProgress || progress === 1) {\n\t\t\t\tthis.interpolatedProgress = progress\n\n\t\t\t} else {\n\t\t\t\tthis.interpolatedProgress += (progress - this.interpolatedProgress) / INTERPOLATION_SCALING\n\t\t\t}\n\n\t\t\tthis.divToStyle.setAttribute(\"style\", `background-image: ${this.progressArc()}`);\n\n\t\t\tif (this.interpolatedProgress !== 1) {\n\t\t\t\twindow.requestAnimationFrame(this.animationStep)\n\t\t\t}\n\t\t}\n\t}\n\n\tconstructor(private element: ElementRef) {\n\n\t\t// [ngStyle]=\"{'background-image': progressArc}\"\n\t\twindow.requestAnimationFrame(this.animationStep)\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/loadingProgress.ts","import { Component } from \"@angular/core\";\n\n@Component({\n\tselector: \"hexagon\",\n\ttemplateUrl: \"hexagon.svg\"\n})\nexport class HexagonComponent {\n\tconstructor() {};\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/hexagon.ts","import { Component } from \"@angular/core\";\n\n@Component({\n\tselector: \"navigator-hexagon\",\n\ttemplateUrl: \"hexagon.svg\"\n})\nexport class NavigatorHexagon {\n\tconstructor() {};\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/navigator/hexagon.ts","import { Component, Input } from \"@angular/core\"\n\n@Component({\n\tselector: \"navigator-icon\",\n\ttemplateUrl: \"icon.html\"\n})\nexport class NavigatorIcon {\n\t@Input() icon: string = 'plus'\n\tconstructor() { }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/navigator/icon.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from 'ionic-angular';\n\nimport { SeperatorDatePipe } from \"../../lib/pipes/seperatorDate\";\n\nimport { BurstDifferenceComponent } from \"./burstDifference\"\nimport { MessageComponent } from \"./message\"\nimport { VoicemailPlayerComponent } from \"./voicemailPlayer\"\n\nimport { SyntaxifyDirective } from \"../syntaxify\"\nimport { GalleryComponent } from \"../gallery/gallery\"\nimport { ComponentsModule } from \"../components.module\"\n\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n\tdeclarations: [\n\t\tSeperatorDatePipe,\n\t\tBurstDifferenceComponent,\n\t\tSyntaxifyDirective,\n\t\tGalleryComponent,\n\t\tMessageComponent,\n\t\tVoicemailPlayerComponent,\n\t],\n\timports: [\n\t\tComponentsModule,\n\t\tIonicModule,\n\t\tCommonModule,\n\t\tTranslateModule.forChild(),\n\t],\n\texports: [\n\t\tSeperatorDatePipe,\n\t\tBurstDifferenceComponent,\n\t\tSyntaxifyDirective,\n\t\tGalleryComponent,\n\t\tMessageComponent,\n\t\tVoicemailPlayerComponent,\n\n\t\tCommonModule,\n\t]\n})\nexport class TopicComponentsModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/topic/topicComponentsModule.ts","import { Pipe } from \"@angular/core\";\nimport moment from 'moment';\nimport { TranslateService } from '@ngx-translate/core';\n\nconst translateKeys = [\"today\", \"yesterday\"]\n\n@Pipe({\n\tname: \"seperatorDate\"\n})\nexport class SeperatorDatePipe {\n\n\tconstructor(private translate: TranslateService) {}\n\n\ttransform(value: any): string {\n\t\tif(!value) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tif(typeof value === \"number\") {\n\t\t\tvalue = new Date(value);\n\t\t}\n\n\t\tconst momentValue = moment(value)\n\n\t\tconst formatted = momentValue.format(\"Do MMMM YYYY\")\n\n\t\tconst dayDiff = moment().diff(momentValue, \"days\")\n\n\t\tif (dayDiff > 1) {\n\t\t\treturn `${formatted}`\n\t\t}\n\n\t\tconst dayDiffString = this.translate.instant(`time.${translateKeys[dayDiff]}`);\n\n\t\treturn `${dayDiffString}, ${formatted}`\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/pipes/seperatorDate.ts","import { Component, Input } from \"@angular/core\";\n\nimport h from \"../../lib/helper/helper\";\n\nimport ChunkLoader, { Chunk } from \"../../lib/messages/chatChunk\"\nimport { Chat } from \"../../lib/messages/chat\"\nimport Burst from \"../../lib/messages/burst\"\n\n@Component({\n\tselector: \"BurstDifference\",\n\ttemplateUrl: \"burstDifference.html\"\n})\nexport class BurstDifferenceComponent {\n\t@Input() chat: Chat\n\t@Input() burst: Burst\n\t@Input() previousBurst: Burst\n\t@Input() noDates: boolean\n\n\tconstructor() {}\n\n\tdifferentDay = () => {\n\t\tif (this.noDates || !this.chat || !this.chat.getLatestChunk) {\n\t\t\treturn false\n\t\t}\n\n\t\tif (this.burst && this.previousBurst) {\n\t\t\treturn !this.burst.sameDay(this.previousBurst)\n\t\t}\n\n\t\treturn true\n\t}\n\n\tdifferentChunk = () => {\n\t\tif (!this.chat || !this.chat.getLatestChunk) {\n\t\t\treturn false\n\t\t}\n\n\t\tif (this.burst && this.previousBurst) {\n\t\t\treturn !this.burst.sameChunk(this.previousBurst)\n\t\t}\n\n\t\tif (this.previousBurst) {\n\t\t\treturn this.previousBurst.getChunkID() !== this.chat.getLatestChunk()\n\t\t}\n\n\t\treturn true\n\t}\n\n\tchunksBetweenBursts = () => {\n\t\tif (!this.previousBurst) {\n\t\t\treturn []\n\t\t}\n\n\t\tconst currentChunkID = this.burst ? this.burst.getChunkID() : this.chat.getLatestChunk()\n\n\t\treturn this.getChunksBetween(\n\t\t\tChunkLoader.getLoaded(currentChunkID),\n\t\t\tChunkLoader.getLoaded(this.previousBurst.getChunkID())\n\t\t).reverse()\n\t}\n\n\taddedReceiver = (chunk: Chunk) => {\n\t\tconst currentReceiveers = chunk.getReceivers()\n\t\tconst previousReceiveers = ChunkLoader.getLoaded(chunk.getPredecessorID()).getReceivers()\n\n\t\treturn currentReceiveers.filter((partner) => previousReceiveers.indexOf(partner) === -1)\n\t}\n\n\tremovedReceiver = (chunk: Chunk) => {\n\t\tconst currentReceiveers = chunk.getReceivers()\n\t\tconst previousReceiveers = ChunkLoader.getLoaded(chunk.getPredecessorID()).getReceivers()\n\n\t\treturn previousReceiveers.filter((partner) => currentReceiveers.indexOf(partner) === -1)\n\t}\n\n\tchangedTitle = (chunk: Chunk) => {\n\t\tconst currentTitle = chunk.getTitle()\n\t\tconst previousTitle = ChunkLoader.getLoaded(chunk.getPredecessorID()).getTitle()\n\n\t\tif (currentTitle !== previousTitle) {\n\t\t\treturn currentTitle\n\t\t}\n\t}\n\n\tgetCreator = (chunk: Chunk) => {\n\t\treturn chunk.getReceivers().find((user) => user.id === chunk.getCreator())\n\t}\n\n\tprivate getChunksBetween = (newerChunk: Chunk, olderChunk: Chunk) => {\n\t\tif (newerChunk.getID() === olderChunk.getID()) {\n\t\t\treturn []\n\t\t}\n\n\t\tconst predecessor = ChunkLoader.getLoaded(newerChunk.getPredecessorID())\n\n\t\treturn [newerChunk, ...this.getChunksBetween(predecessor, olderChunk)]\n\t}\n\n\thasPreviousChunk = () => {\n\t\treturn Boolean(this.previousBurst)\n\t}\n\n\treceiver = () => {\n\t\tif (this.burst) {\n\t\t\treturn ChunkLoader.getLoaded(this.burst.getChunkID()).getPartners()\n\t\t}\n\n\t\treturn ChunkLoader.getLoaded(this.chat.getLatestChunk()).getPartners()\n\t}\n\n\tgetTime = () => {\n\t\tif (this.burst) {\n\t\t\treturn this.burst.firstItem().getTime()\n\t\t}\n\n\t\tconst latestChunk = ChunkLoader.getLoaded(this.chat.getLatestChunk())\n\n\t\treturn h.parseDecimal(latestChunk.getTime())\n\t}\n\n\tgetChunk = () => {\n\t\tconst burstChunkID = this.burst ? this.burst.getChunkID() : this.chat.getLatestChunk()\n\n\t\treturn ChunkLoader.getLoaded(burstChunkID)\n\t}\n\n\thasTitleDifference = () => {\n\t\tif (!this.previousBurst) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst burstChunk = this.getChunk()\n\t\tconst previousBurstChunk = ChunkLoader.getLoaded(this.previousBurst.getChunkID())\n\n\t\treturn burstChunk.getTitle() !== previousBurstChunk.getTitle()\n\t}\n\n\tgetTitle = () => this.getChunk().getTitle()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/topic/burstDifference.ts","import { Component, Input } from \"@angular/core\";\nimport * as Bluebird from \"bluebird\"\n\nimport { Message } from \"../../lib/messages/message\"\n\nimport Progress from \"../../lib/asset/Progress\"\nimport blobService from \"../../lib/services/blobService\"\nimport blobCache from \"../../lib/asset/blobCache\"\nimport { queue as fileTransferQueue } from '../../lib/services/fileTransferQueue'\n\nconst EMOJIS = [\"💩\", \"👻\", \"🤖\", \"🐋\", \"🌍\"]\n\nconst FILE_DOWNLOAD_DELAY = 500\n\n@Component({\n\tselector: \"Message\",\n\ttemplateUrl: \"message.html\"\n})\nexport class MessageComponent {\n\n\t_message: Message\n\n\tvoicemailDownloadProgress: Progress\n\n\n\t@Input() set message(_message: Message) {\n\t\tthis._message = _message\n\t}\n\n\tget message(): Message {\n\t\treturn this._message\n\t}\n\n\tconstructor() {}\n\n\tadd = (arr, attr) => {\n\t\treturn arr.reduce((prev, next) => prev + next[attr], 0)\n\t}\n\n\tformatSize(size) {\n\t\tconst emoji = EMOJIS[size % EMOJIS.length]\n\t\tif (size < 1000) {\n\t\t\treturn `${size} B`\n\t\t} else if (size < 1000 * 1000) {\n\t\t\treturn `${Math.round(size / 100) / 10} kB`\n\t\t} else if (size < 1000 * 1000 * 1000) {\n\t\t\treturn `${Math.round(size / (100 * 1000)) / 10} MB`\n\t\t} else if (size < 1000 * 1000 * 1000 * 1000) {\n\t\t\treturn `${Math.round(size / (100 * 1000 * 1000)) / 10} GB`\n\t\t} else if (size < 1000 * 1000 * 1000 * 1000 * 1000) {\n\t\t\treturn `${emoji} TB`\n\t\t} else {\n\t\t\treturn `${emoji} PB`\n\t\t}\n\t}\n\n\tvoicemailProgress = () => {\n\t\tconst { message } = this\n\t\tif(!message.hasBeenSent()) {\n\t\t\treturn message.data.voicemails.reduce((acc, v) => {\n\t\t\t\tif(!v) return acc;\n\n\t\t\t\treturn acc + v.getProgress() / message.data.voicemails.length;\n\t\t\t}, 0);\n\t\t}\n\n\t\tif (!this.voicemailDownloadProgress) {\n\t\t\treturn 0\n\t\t}\n\n\t\treturn this.voicemailDownloadProgress.getProgress()\n\t}\n\n\tvoicemailSize = () =>\n\t\tthis.message.data.voicemails.reduce((prev, next) => prev + next.size, 0)\n\n\tdownloadFile = (file) => {\n\t\tconst loadProgress = new Progress()\n\n\t\tfile.getProgress = () => loadProgress.getProgress()\n\n\t\tfileTransferQueue.enqueue(1, () =>\n\t\t\tblobService\n\t\t\t\t.getBlobUrl(file.blobID, loadProgress, file.size)\n\t\t\t\t.then(url => blobCache.copyBlobToDownloads(file.blobID, file.name))\n\t\t\t\t.delay(FILE_DOWNLOAD_DELAY)\n\t\t\t\t.then((url) => {\n\t\t\t\t\tfile.loaded = true\n\t\t\t\t\tfile.url = url\n\t\t\t\t\treturn blobCache.getFileMimeType(url).then(mimeType =>\n\t\t\t\t\t\tnew Bluebird((success, error) =>\n\t\t\t\t\t\t\twindow.cordova.plugins.fileOpener2.showOpenWithDialog(url, mimeType || \"\", { success, error })\n\t\t\t\t\t\t)\n\t\t\t\t\t)})\n\t\t\t\t.catch(e => {\n\t\t\t\t\tdelete file.getProgress\n\t\t\t\t\talert(parseInt(e.status, 10) === 9\n\t\t\t\t\t\t? `Could not open file. No app found to open file type for ${file.name}`\n\t\t\t\t\t\t: `Download of file ${file.name} failed`)\n\t\t\t\t})\n\t\t\t)\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/topic/message.ts","import { Component, Input, ElementRef } from \"@angular/core\";\n\nimport * as Bluebird from \"bluebird\"\n\nimport { formatSize } from \"../../lib/asset/sizeFormatter\"\nimport VoicemailPlayer from \"../../lib/asset/voicemailPlayer\"\nimport blobService from \"../../lib/services/blobService\"\nimport Progress from \"../../lib/asset/Progress\"\n\nconst loadVoicemail = (voicemail) => {\n\tconst loadProgress = new Progress()\n\n\tvoicemail.loading = true\n\tvoicemail.getProgress = () => loadProgress.getProgress()\n\n\treturn blobService.getBlobUrl(voicemail.blobID, loadProgress, voicemail.size).then((url) => {\n\t\tvoicemail.url = url\n\t\tvoicemail.loading = false\n\t\tvoicemail.loaded = true\n\t\treturn voicemail\n\t})\n}\n\nlet playBackBlocked = false\n\n@Component({\n\tselector: \"voicemailplayer\",\n\ttemplateUrl: \"voicemailPlayer.html\"\n})\nexport class VoicemailPlayerComponent {\n\t@Input()\n\tvoicemails: {\n\t\tduration: number,\n\t\tsize: number,\n\t\tloading: boolean,\n\t\tloaded: boolean\n\t\tgetProgress: () => number\n\t}[]\n\t@Input() hasBeenSent: boolean = true\n\tprivate player: VoicemailPlayer\n\tprivate previousTime: number\n\tprivate startTime: number = 0\n\tseekVal: number = 0\n\n\ttoggle = () => this.isPlaying() ? this.pause() : this.play()\n\n\tdownloadable = () => !this.isLoaded() && this.hasBeenSent\n\n\tisPlaying = () => this.player ? this.player.isPlaying() : false\n\n\tisLoading = () => !!this.voicemails.find(({ loading }) => loading)\n\n\tgetProgress = () => this.voicemails.reduce((prev, { getProgress }) => getProgress ? prev + getProgress(): 0, 0) / this.voicemails.length\n\n\tgetSize = () => this.voicemails.reduce((prev, { size }) => prev + size, 0)\n\n\tisLoaded = () => this.voicemails.reduce((prev, { loaded }) => prev && loaded, true)\n\n\ttimeUpdate = (position) => {\n\t\tconst time = Math.floor(position)\n\n\t\tconst progress = position * 100 / this.getDuration()\n\n\t\tconst ele : HTMLElement = this.element.nativeElement\n\n\t\tconst progressBar = ele.querySelector(\".vom--progress--bar\")\n\n\t\tif (progressBar instanceof HTMLElement) {\n\t\t\tprogressBar.style.width = `${Math.round(progress * 10) / 10}%`\n\t\t}\n\n\t\tif (this.previousTime === time) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.previousTime = time\n\t\tele.querySelector(\".vom--position\").innerHTML = this.formatPosition(time)\n\t}\n\n\tformatPosition = (position: number) => {\n\t\tconst minutes = Math.floor(position / 60)\n\t\tconst seconds = Math.floor(position % 60)\n\n\t\tconst secondsString = `0${seconds}`.substr(-2)\n\n\t\treturn `${minutes}:${secondsString}`\n\t}\n\n\tformatSize = formatSize\n\n\tseekTo = (position: number) => {\n\t\tif (this.player) {\n\t\t\treturn this.player.seekTo(position)\n\t\t}\n\n\t\tthis.startTime = position\n\t\tthis.timeUpdate(position)\n\t}\n\n\tloadAndPlay = () => {\n\t\tconst voicemails = this.voicemails\n\n\t\treturn Bluebird.resolve(voicemails)\n\t\t\t.map((voicemail) => loadVoicemail(voicemail))\n\t\t\t.map(({ url, duration }) => ({ url, estimatedDuration: duration }))\n\t\t\t.then((voicemails) => new VoicemailPlayer(voicemails))\n\t\t\t.then((player) => {\n\t\t\t\tthis.player = player\n\t\t\t\tthis.player.onPositionUpdateRAF(this.timeUpdate)\n\n\t\t\t\tthis.player.awaitLoading().then(() => {\n\t\t\t\t\tthis.player.seekTo(this.startTime)\n\t\t\t\t\tthis.player.play()\n\t\t\t\t})\n\t\t\t})\n\t}\n\n\tplay = () => this.player ? this.player.play() : this.loadAndPlay()\n\n\tpause = () => this.player.pause()\n\n\tgetDuration = () => this.player ? this.player.getDuration() : this.voicemails.reduce((prev, { duration }) => prev + duration, 0)\n\n\tconstructor(private element: ElementRef) {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/topic/voicemailPlayer.ts","const EMOJIS = [\"💩\", \"👻\", \"🤖\", \"🐋\", \"🌍\"]\n\nexport const formatSize = (size) => {\n\tconst emoji = EMOJIS[size % EMOJIS.length]\n\tif (size < 1000) {\n\t\treturn `${size} B`\n\t} else if (size < 1000 * 1000) {\n\t\treturn `${Math.round(size / 100) / 10} kB`\n\t} else if (size < 1000 * 1000 * 1000) {\n\t\treturn `${Math.round(size / (100 * 1000)) / 10} MB`\n\t} else if (size < 1000 * 1000 * 1000 * 1000) {\n\t\treturn `${Math.round(size / (100 * 1000 * 1000)) / 10} GB`\n\t} else if (size < 1000 * 1000 * 1000 * 1000 * 1000) {\n\t\treturn `${emoji} TB`\n\t} else {\n\t\treturn `${emoji} PB`\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/asset/sizeFormatter.ts","import { Directive, ElementRef, Input } from '@angular/core'; // tslint:disable-line:no-unused-variable\n// const EmojifyConverter = require(\"emojify\");\n\n/*const emojify = new EmojifyConverter();\nemojify.img_sets.apple.sheet = \"assets/img/sheet_apple_64.png\";\nemojify.use_sheet = true;\nemojify.include_title = true;*/\n\n/*const emojiElementOuter = jQuery(\"<span>\").addClass(\"emoji-outer\").addClass(\"emoji-sizer\");\nconst emojiElementInner = jQuery(\"<span>\").addClass(\"emoji-inner\").css(\"background\", \"url(\" + emojify.img_sets.apple.sheet + \")\");*/\n\nconst ignoreAsLastCharacter = [\"'\", \")\", \"\\\"\", \".\"];\n\ntype syntaxifierType = (elm: HTMLElement, content: string, remainingTextCallback?: Function) => any\n\n@Directive({ selector: '[whispeerSyntaxify]' })\nexport class SyntaxifyDirective {\n\tsyntaxifier: syntaxifierType[] = [];\n\tel: HTMLElement;\n\n\tprivate appendUrl: syntaxifierType = (elm: HTMLElement, url, remainingTextCallback) => {\n\t\tvar i, removeUntil = 0;\n\t\tfor (i = -1; i > -5; i -= 1) {\n\t\t\t//if i:=-1 than i+1 would be 0 and thus the slice would be empty.\n\t\t\tvar lastCharacter = url.slice(i, i + 1 || undefined);\n\t\t\tif (ignoreAsLastCharacter.indexOf(lastCharacter) === -1) {\n\t\t\t\tremoveUntil = i + 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tvar removedCharacters = \"\";\n\n\t\tif (removeUntil) {\n\t\t\tremovedCharacters = url.slice(removeUntil);\n\t\t\turl = url.slice(0, removeUntil);\n\t\t}\n\n\t\tconst linkElement = document.createElement(\"a\")\n\t\tlinkElement.setAttribute(\"target\", \"_blank\")\n\t\tlinkElement.setAttribute(\"href\", url)\n\t\tlinkElement.textContent = url\n\n\t\telm.appendChild(linkElement);\n\n\t\tif (removeUntil) {\n\t\t\tremainingTextCallback(removedCharacters);\n\t\t}\n\t}\n\n\turlify: syntaxifierType = (elm, text, remainingTextCallback) => {\n\t\t/*\n\t\t/                                   # Start at the beginning of the text\n\t\t(?:ftp|http|https):\\/\\/              # Look for ftp, http, or https\n\t\t(?:                                  # Username:password combinations (optional)\n\t\t\t[\\w\\.\\-\\+]+                        # A username\n\t\t\t:{0,1}                             # an optional colon to separate the username and password\n\t\t\t[\\w\\.\\-\\+]*@                       # A password\n\t\t)?\n\t\t(?:[a-z0-9\\-\\.]+)                    # The domain limiting it to just allowed characters\n\t\t(?::[0-9]+)?                         # Server port number\n\t\t(?:                                  # The path (optional)\n\t\t\t\\/(?:[\\w#!:\"'\\)\\.\\?\\+=&%@!\\-\\/\\(]+)|  # or a forward slash followed by a full path\n\t\t\t\\?(?:[\\w#!:\"'\\)\\.\\?\\+=&%@!\\-\\/\\(]+)  # or a question mark followed by key value pairs\n\t\t)?/\n\t\t*/\n\n\t\tvar urlRegex = /((?:http|https):\\/\\/(?:[\\w\\.\\-\\+]+:{0,1}[\\w\\.\\-\\+]*@)?(?:[a-z0-9\\-\\.]+)(?::[0-9]+)?(?:\\/(?:[\\w#!:\"'\\)\\.,\\?\\+=&%@!\\-\\~\\/\\(]+)|\\?(?:[\\w#!:\"'\\)\\.,\\?\\+=&%@!\\-\\~\\/\\(]+))?)(?!http)/;\n\n\t\tvar urls = text.split(urlRegex);\n\n\t\tvar i;\n\t\tfor (i = 0; i < urls.length; i += 2) {\n\t\t\tremainingTextCallback(urls[i]);\n\t\t\tif (urls[i + 1]) {\n\t\t\t\tthis.appendUrl(elm, urls[i + 1], remainingTextCallback);\n\t\t\t}\n\t\t}\n\t}\n\n\tnewlines: syntaxifierType = (elm, text, remainingTextCallback) => {\n\t\tvar parts = text.split(/\\r\\n|\\n\\r|\\r|\\n|\\w*\\[br\\]\\w*/);\n\n\t\tvar i;\n\t\tfor (i = 0; i < parts.length; i += 1) {\n\t\t\tremainingTextCallback(parts[i])\n\t\t\tif (i !== parts.length - 1) {\n\t\t\t\telm.appendChild(document.createElement(\"br\"))\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateTextNode: syntaxifierType = (elm, text) => {\n\t\telm.appendChild(document.createTextNode(text));\n\t}\n\n\tcallSyntaxifier = (number: number, elm: HTMLElement, text: string) => {\n\t\tthis.syntaxifier[number](elm, text, (text) => {\n\t\t\tthis.callSyntaxifier(number + 1, elm, text);\n\t\t});\n\t}\n\n\t@Input()\n\tset content(content: string) {\n\t\tthis.callSyntaxifier(0, this.el, content);\n\t}\n\n\tconstructor(el: ElementRef) {\n\t\tthis.syntaxifier = [this.urlify, this.newlines, this.createTextNode];\n\t\tthis.el = el.nativeElement\n\t}\n\n\t/* emojifyReplacer = (elm, text: string, remainingTextCallback: Function) => {\n\t\tvar replaced = emojify.replace_colons(emojify.replace_unified(text));\n\t\treplaced = replaced.replace(/<span class=\"emoji-outer emoji-sizer\"><span class=\"emoji-inner\"([^>]*)><\\/span><\\/span>/g, \":emoji:$1:emoji:\");\n\t\tvar splitted = replaced.split(\":emoji:\");\n\n\t\tsplitted.forEach((text) => {\n\t\t\tif (text.indexOf(emojify.img_sets.apple.sheet) === -1) {\n\t\t\t\telm.append(remainingTextCallback(text));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//;background-position:67.5% 27.5%;background-size:4100%\" title=\"disappointed_relieved\"\n\t\t\tvar positionMatch = text.match(/background-position:([^;^\"]*)/);\n\t\t\tvar sizeMatch = text.match(/background-size:([^;^\"]*)/);\n\t\t\tvar titleMatch = text.match(/title=\"([^\"]*)\"/);\n\n\t\t\tif (!positionMatch || !sizeMatch || !titleMatch) {\n\t\t\t\telm.append(remainingTextCallback(text));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar position = positionMatch[1];\n\t\t\tvar size = sizeMatch[1];\n\t\t\tvar title = titleMatch[1];\n\n\t\t\tif (!position.match(/^[0-9\\.% ]*$/) && !size.match(/^[0-9\\.%]*$/)) {\n\t\t\t\telm.append(remainingTextCallback(text));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\telm.append(\n\t\t\t\temojiElementOuter.clone().append(\n\t\t\t\t\temojiElementInner.clone().\n\t\t\t\t\t\tcss(\"background-position\", position).\n\t\t\t\t\t\tcss(\"background-size\", size).attr(\"title\", title)\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\t} */\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/syntaxify.ts","import { Component, Input } from \"@angular/core\"\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser' // tslint:disable-line:no-unused-variable\n\nimport errorService from \"../../lib/services/error.service\"\nimport blobService from \"../../lib/services/blobService\"\n\nimport * as Bluebird from \"bluebird\"\nimport { PhotoViewer } from '@ionic-native/photo-viewer'\n\ninterface imageInfo {\n\tblobID: string,\n\tloaded: boolean,\n\tloading: boolean,\n\turl: SafeUrl | string,\n\toriginalUrl: string,\n\twidth?: number,\n\theight?: number\n}\n\ninterface imageQualities {\n\thighest: imageInfo,\n\tmiddle: imageInfo,\n\tlowest: imageInfo,\n\tupload: {}\n}\n\n@Component({\n\tselector: \"gallery\",\n\ttemplateUrl: \"gallery.html\"\n})\nexport class GalleryComponent {\n\t_images: imageQualities[]\n\n\t@Input() set images(value: imageQualities[]) {\n\t\tthis._images = value\n\t\tthis.loadPreviews()\n\t}\n\n\tget images(): imageQualities[] {\n\t\treturn this._images\n\t}\n\n\tpreviewChunk: number = 2\n\tpreview: number = this.previewChunk\n\n\tconstructor(private sanitizer:DomSanitizer, private photoViewer: PhotoViewer){}\n\n\tloadImage(data: imageInfo) {\n\t\tconst blobid = data.blobID\n\n\t\tif (data.loaded) {\n\t\t\treturn Bluebird.resolve(data.originalUrl)\n\t\t}\n\n\t\tdata.loading = true\n\n\t\treturn Bluebird.try(() => blobService.getBlobUrl(blobid))\n\t\t\t.then((url) => {\n\t\t\t\tdata.loading = false\n\t\t\t\tdata.loaded = true\n\t\t\t\tdata.url = this.sanitizer.bypassSecurityTrustUrl(\n\t\t\t\t\twindow.device && window.device.platform === 'iOS' ? url.replace('file://', '') : url\n\t\t\t\t)\n\t\t\t\tdata.originalUrl = url\n\n\t\t\t\treturn url\n\t\t\t})\n\t\t\t.catch(errorService.criticalError)\n\t}\n\n\tloadImagePreviews(images: imageQualities[]) {\n\t\timages.forEach((image) => {\n\t\t\tif (image.lowest && typeof image.lowest.url === \"string\" && image.highest && typeof image.highest.url === \"string\") {\n\t\t\t\timage.highest.url = this.sanitizer.bypassSecurityTrustUrl(image.highest.url)\n\t\t\t\timage.lowest.url = this.sanitizer.bypassSecurityTrustUrl(image.lowest.url)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!image.lowest.url && image.lowest.width && image.lowest.height) {\n\t\t\t\tconst canvas = document.createElement(\"canvas\")\n\t\t\t\tcanvas.width = image.lowest.width\n\t\t\t\tcanvas.height = image.lowest.height\n\t\t\t\timage.lowest.url = this.sanitizer.bypassSecurityTrustUrl(canvas.toDataURL())\n\t\t\t}\n\n\t\t\tthis.loadImage(image.lowest)\n\t\t})\n\t}\n\n\tisLoading = (image) => {\n\t\treturn image.highest && image.highest.loading\n\t\t\t|| image.middle && image.middle.loading\n\t\t\t|| image.lowest && image.lowest.loading\n\t}\n\n\tgetProgress = () => 0\n\n\tdisplayImage = (image) => {\n\t\tif (image.upload) {\n\t\t\tthis.photoViewer.show(image.upload._file.originalUrl)\n\t\t\treturn\n\t\t}\n\n\t\tthis.loadImage(image.highest || image.middle || image.lowest).then((url) => {\n\t\t\tthis.photoViewer.show(url)\n\t\t})\n\t}\n\n\tloadMoreImages() {\n\t\tthis.loadImagePreviews(this.images.slice(this.preview, this.preview + this.previewChunk))\n\t\tthis.preview += this.previewChunk\n\t}\n\n\trunGif() {\n\t\treturn false\n\t}\n\n\tloadPreviews() {\n\t\tthis.loadImagePreviews(this.images.slice(0, this.preview))\n\t}\n\n\tngOnInit() {\n\t\tthis.loadPreviews()\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/gallery/gallery.ts"],"sourceRoot":""}